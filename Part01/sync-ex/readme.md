### Пояснения

1. Класс `SharedBuffer` использует `synchronized` методы для обеспечения синхронизации.
2. Методы `wait()` и `notify()` используются для координации работы потоков.
3. `Producer` помещает значения в буфер, а `Consumer` извлекает их.
4. Синхронизация гарантирует, что `Producer` не будет добавлять новое значение, пока предыдущее не будет прочитано, а `Consumer` не будет пытаться читать из пустого буфера.
5. Использование `while` вместо `if` для проверки условий предотвращает ложные пробуждения.

---

### Метод wait()

Используется для приостановки выполнения текущего потока.

1. **Освобождение монитора**: При вызове `wait()` поток освобождает блокировку (монитор) объекта, на котором был вызван метод.
2. **Переход в состояние ожидания**: Поток переходит в состояние WAITING и ожидает, пока другой поток не вызовет `notify()` или `notifyAll()` на том же объекте.
3. **Синхронизированный контекст**: Метод `wait()` должен вызываться только из синхронизированного блока или метода.
4. **Прерывание ожидания**: Ожидание может быть прервано вызовом `interrupt()` на ожидающем потоке.

### Метод notify()

Метод `notify()` используется для уведомления ожидающих потоков о том, что произошло какое-то событие или изменение состояния. Основные характеристики:

1. **Пробуждение одного потока**: `notify()` выбирает случайным образом один из ожидающих потоков и пробуждает его.
2. **Не освобождает монитор**: Вызов `notify()` не приводит к немедленному освобождению монитора. Монитор освобождается только при выходе из синхронизированного блока.
3. **Синхронизированный контекст**: Как и `wait()`, метод `notify()` должен вызываться из синхронизированного контекста.

### Метод notifyAll()

Метод `notifyAll()` аналогичен `notify()`, но пробуждает все ожидающие потоки, а не только один.

### Пример использования

Простой пример использования этих методов:

```java
public class SharedResource {
    private boolean flag = false;

    public synchronized void waitForFlag() throws InterruptedException {
        while (!flag) {
            wait(); // Ожидаем, пока флаг не станет true
        }
        System.out.println("Флаг установлен, продолжаем работу");
    }

    public synchronized void setFlag() {
        flag = true;
        notifyAll(); // Уведомляем все ожидающие потоки
    }
}
```

В этом примере:
- Метод `waitForFlag()` ожидает, пока флаг не станет `true`.
- Метод `setFlag()` устанавливает флаг и уведомляет все ожидающие потоки.

### Важные замечания

1. **Ложные пробуждения**: Всегда используйте `wait()` в цикле `while`, чтобы проверять условие после пробуждения.
2. **Порядок выполнения**: Нет гарантии порядка выполнения потоков после вызова `notifyAll()`.
3. **Потенциальные проблемы**: Неправильное использование этих методов может привести к взаимоблокировкам или состоянию гонки.
4. **Альтернативы**: В современной Java рекомендуется использовать классы из пакета `java.util.concurrent` для более высокоуровневой синхронизации.
